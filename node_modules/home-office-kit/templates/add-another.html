{% extends "home-office-kit-form-layout.html" %}

{% set homeOfficeKit_pageHeading = "Add another" %}

{% block homeOfficeKit_pageContent %}

  <div id="home-office-kit-add-another-container">
    <div class="govuk-form-group">
      <label class="govuk-label" for="event-name">
        Name
      </label>
      <input class="govuk-input" id="name-1" name="names[1]" type="text" value>
    </div>
  </div>

  <div id="home-office-kit-add-another-button">
    <button type="button" type="button" class="govuk-button govuk-button--secondary" data-module="govuk-button">
      Add another name
    </button>
  </div>

{% endblock %}


{% block pageScripts %}
  <script>
    var newNameId = 2;
    var addAnotherButton = document.getElementById('home-office-kit-add-another-button');
    var names = document.getElementById("home-office-kit-add-another-container");

    var stringToHTML = function (str) {
      var parser = new DOMParser();
      var doc = parser.parseFromString(str, 'text/html');
      return doc.body.firstChild;
    };

    addAnotherButton.onclick = function () {
      var s = stringToHTML(`
      <div class='govuk-form-group'>
        <label class="govuk-label" for='name-${newNameId}'>
            Name
          </label>
        <input class="govuk-input" id='name-${newNameId}' name='names[${newNameId}]' type='text'>
      </div>
      `);

      names.appendChild(s);
      document.getElementById("name-"+newNameId).focus();
      newNameId++;
    };
  </script>
{% endblock %}
    